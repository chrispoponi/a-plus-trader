# Executive Summary: The Harmonic Eagle Trading System (v3.2)

**Status**: LIVE (Paper/Production)  
**Version**: 3.2 "Sniper Class"  
**Date**: January 7, 2026

---

## 1. Mission Statement
Harmonic Eagle is an autonomous, quantitative trading system designed to capture high-probability swing and trend moves in the US Equities market. Ideally suited for "Fat Tail" capture, it leverages advanced risk sizing to bet heavily on A+ setups while strictly protecting capital on standard variance.

---

## 2. Core Trading Strategies
The system operates on a "Scan -> Score -> Execute" loop.

### A. The Swing Engine (20/50 SMA)
*   **Thesis**: Stocks in a confirmed uptrend (Price > SMA20 > SMA50) often bounce off the "Value Zone" (near SMA20).
*   **Entry Trigger**: 
    1.  Price pulls back to within 3% of SMA20.
    2.  Market Structure holds (Higher Lows).
    3.  Volume indicates accumulation.
*   **Stop Loss**: Set at Technical Support (Swing Low) or fixed ATR multiple.

### B. The Momentum Trend (3/8/20 EMA)
*   **Thesis**: Parabolic moves respect fast moving averages.
*   **Entry Trigger**: Price crosses above SMA20 with 3 > 8 > 20 stack alignment.
*   **Filter**: Rising RSI (50-70 range), Relative Volume > 1.2x.

### C. Options "Gamma Hunter" (Experimental)
*   **Thesis**: Unusual Options Activity + Technical Breakout.
*   **Scanner**: Identifies calls sweeping above ask with technical confirmation.

---

## 3. Quantitative Execution & Sizing
The defining feature of v3.2 is **Conviction-Weighted Sizing**. We moved away from flat betting to a mathematical edge model.

### The "Squared Edge" Sizing Model
Instead of risking a flat 0.75% per trade, we scale risk based on the **Confidience Score (0-100)** generated by the Ranker.

$$ \text{Risk \%} = 0.75\% \times \left( \frac{\text{Score}}{70} \right)^2 $$

*   **Standard Trade (Score 70)**: Risks **0.75%** of Equity.
*   **Weak Trade (Score 60)**: Risks **0.55%** (Defensive).
*   **A+ Trade (Score 95)**: Risks **1.40% - 1.80%** (Aggressive).
*   **Safety Cap**: Max Risk is hard-capped at **2.0%** per trade.

---

## 4. Risk Management (The Guardian)
Safety is enforced at the code level, independent of strategy logic.

1.  **Safety Seal Protocol**: Every order is validated before submission. Stops must be below entry, targets above. Invalid orders are rejected pre-API.
2.  **The Risk Watchdog**: A background service runs every 5 minutes to scan for "Naked Positions" (open trades with no Stop Loss). If found, it automatically places an emergency stop order (2% below price).
3.  **Idempotency**: Prevents duplicate orders or "machine gun" firing on the same symbol.

---

## 5. Profit Capture: "Peak Exit"
To solve the "Giving back gains" problem, we implemented the **Harmonic Wave Exit**.

*   **Logic**: The system monitors intraday (5-minute) candles for **Exhaustion**.
    *   Condition: Price makes a New High AND Volume < 90% of Average (Divergence).
*   **Action**: 
    *   If Exhaustion is detected, the Stop Loss acts as a **Ratchet**.
    *   It tightens aggressively to **0.5 ATR** below the high.
    *   This locks in the "Tsunami" gains (e.g. 19% moves) before the reversal.

---

## 6. Technical Architecture
*   **Backend**: Python FastAPI (Hosted on Render). Handles all logic, API connections, and scheduling.
*   **Frontend**: React.js (Hosted on Vercel). Provides a "Mission Control" dashboard for manual oversight, Charting, and PnL tracking.
*   **Data/Broker**: Alpaca Markets API (for data and execution).
*   **Notifications**: Discord Webhooks. Delivers real-time alerts for:
    *   Heartbeat (System Online)
    *   Trade Entries (with Score)
    *   Trade Exits (with PnL)
    *   Risk Watchdog Actions

## 7. Current Operations
*   The system is fully automated.
*   It hydrates its history from the broker on every restart (Stateless resilience).
*   Diagnostic tools (`/debug/*`) allows for remote health checks.

---
**Next Steps**: Monitor the live performance of the Peak Exit logic and calibrate the Sizing Multiplier based on the first 50 live trades.
